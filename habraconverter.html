<!DOCTYPE html>
<html>
    <head>
        <title>Хабраконвертер</title>
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.0/js/bootstrap.min.js">
        <link rel="stylesheet" href="habraconverter.css">
    </head>
    <body>
        <div class="container">
            <header><h1>Хабраконвертер</h1></header>
        
            <div>
                <p>
                    Хабраконвертер преобразует текст, созданный в текстовом процессоре (Google Docs, Word или любом другом) в
                    размеченный текст, пригодный для публикации статьи на хабре.
                </p>
                <p>
                    Поддерживаются жирный/италик/перечекнутый/подчеркнутый/sup/sub стили, ссылки, заголовки, списки, таблицы. Чтобы поддержать
                    вставку исходного кода, весь текст с шрифтом Courier New обрамляется тегом source (атрибут lang, правда, придется
                    вставлять вручную).
                </p>
                <p>
                   При вставке из Google Docs картинки вставляются с ссылками на хранилище Google-Docs — просматриваться будут, но стоит их перезалить.
                </p>
                <p>
                    <span class="label label-warning">Внимание!</span> К сожалению, конвертация может нарушить форматирование (например, вставить лишние переводы строк). 
                    Проверьте статью внимательно перед тем как ее публиковать!
                </p>
            </div>
        
            <div class="inputs-layout">
                <div class="input-block">
                    <div class="buttons">
                        <button class="btn btn-success" onclick="convertInput()">Конвертировать</button>
                        <button class="btn" onclick="clearInput()">Очистить</button>
                    </div>
                    <div class="block-description">Скопируйте сюда текст для конвертации</div>
                    <div class="uneditable-input" id="rich-input" contenteditable="true">
                    </div>
                </div>
                <div class="output-block">
                    <div class="buttons">
                        <button class="btn" onclick="clearInput()" style="visibility:collapse;">Dummy</button>
                    </div>
                    <div class="block-description">При клике автоматически выделится весь результат</div>
                    <textarea id="habra-output" readonly onclick="this.focus(); this.select();"></textarea>
                </div>
            </div>
        </div>
        <footer>
            <div class="container">
                <hr>
                <span class="footer-label">
                    Проект <a href="https://github.com/daniilguit/habraconverter">на github.com</a><br>
                    Ошибки рапортавать <a href="https://github.com/daniilguit/habraconverter/issues">сюда</a><br>
                </span>
            </div>
        </footer>
        
        <script src="habraconverter.js"></script>
        <script>
            /* Qbaka */
            (function(e,t){e.__qbaka_eh=e.onerror,e.__qbaka_reports=[],e.onerror=function(){e.__qbaka_reports.push(arguments)},e.qbaka={exec:function(e){try{e()}catch(t){}},report:function(){},_ldr:function(){e.qbaka._ldd=!0},customParams:{},set:function(t,n){qbaka.customParams[t]=n},exec:function(e){try{e()}catch(t){qbaka.reportException(t)}},reportException:function(){}};var n=t.createElement("script");n.id="qbaka",n.type="text/javascript",n.async=!0,n.src="//cdn.qbaka.net/reporting.js";var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),e.addEventListener?e.addEventListener("load",e.qbaka._ldr,!1):e.attachEvent("onload",e.qbaka._ldr),qbaka.key="d124a5c276b4d9f9725425a6e92c83c8"})(window,document)

            /* Habraconverter */
            function clearInput() {
                document.getElementById('rich-input').innerHTML = '';
            }
        
            function convertInput() {
                var converted = habraconverter.convert(document.getElementById('rich-input'));
                document.getElementById('habra-output').value = converted;
            }
        
            /* Google Analytics */
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-34415115-1']);
            _gaq.push(['_trackPageview']);
        
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>